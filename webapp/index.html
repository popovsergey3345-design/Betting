<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BetMachine</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/webapp/style.css">
</head>
<body>
<div id="app">
    <header class="header">
        <div class="header-left">
            <div class="logo">üé∞</div>
            <div class="brand">BetMachine</div>
        </div>
        <div class="balance-box">ü™ô <span id="balance">0</span></div>
    </header>

    <nav class="tabs">
        <button class="tab active" onclick="switchTab('sports',this)">‚öΩ –ú–∞—Ç—á–∏</button>
        <button class="tab" onclick="switchTab('quick',this)">üé≤ –ò–≥—Ä—ã</button>
        <button class="tab" onclick="switchTab('mybets',this)">üìã –°—Ç–∞–≤–∫–∏</button>
        <button class="tab" onclick="switchTab('profile',this)">üë§</button>
    </nav>

    <!-- –°–ü–û–†–¢ -->
    <section id="tab-sports" class="tab-content active">
        <div class="filters">
            <button class="filter-btn active" onclick="filterSport('all',this)">–í—Å–µ</button>
            <button class="filter-btn" onclick="filterSport('football',this)">‚öΩ</button>
            <button class="filter-btn" onclick="filterSport('basketball',this)">üèÄ</button>
            <button class="filter-btn" onclick="filterSport('tennis',this)">üéæ</button>
            <button class="filter-btn" onclick="filterSport('hockey',this)">üèí</button>
            <button class="filter-btn" onclick="filterSport('mma',this)">ü•ä</button>
        </div>
        <div id="events-list"><div class="loading">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ç—á–µ–π...</div></div>
    </section>

    <!-- –ë–´–°–¢–†–´–ï –ò–ì–†–´ -->
    <section id="tab-quick" class="tab-content">
        <div class="quick-game">
            <div class="game-header">ü™ô –ú–æ–Ω–µ—Ç–∫–∞ (x1.95)</div>
            <div class="game-body">
                <div class="pick-buttons">
                    <button class="pick-btn" onclick="selectPick('coinflip','heads',this)">üëë –û—Ä—ë–ª</button>
                    <button class="pick-btn" onclick="selectPick('coinflip','tails',this)">üî¢ –†–µ—à–∫–∞</button>
                </div>
                <input type="number" id="coinflip-amount" class="bet-input" placeholder="–°—É–º–º–∞" min="10">
                <div class="quick-amounts">
                    <button onclick="setAmt('coinflip',50)">50</button>
                    <button onclick="setAmt('coinflip',100)">100</button>
                    <button onclick="setAmt('coinflip',500)">500</button>
                </div>
                <button class="play-btn" onclick="playGame('coinflip')">üé∞ –ò–≥—Ä–∞—Ç—å</button>
            </div>
            <div id="coinflip-result" class="game-result"></div>
        </div>
        <div class="quick-game">
            <div class="game-header">üé≤ –ö–æ—Å—Ç–∏</div>
            <div class="game-body">
                <div class="pick-buttons">
                    <button class="pick-btn" onclick="selectPick('dice','low',this)">‚¨á 1-3 x1.95</button>
                    <button class="pick-btn" onclick="selectPick('dice','high',this)">‚¨Ü 4-6 x1.95</button>
                </div>
                <div class="pick-buttons">
                    <button class="pick-btn sm" onclick="selectPick('dice','1',this)">1Ô∏è‚É£</button>
                    <button class="pick-btn sm" onclick="selectPick('dice','2',this)">2Ô∏è‚É£</button>
                    <button class="pick-btn sm" onclick="selectPick('dice','3',this)">3Ô∏è‚É£</button>
                    <button class="pick-btn sm" onclick="selectPick('dice','4',this)">4Ô∏è‚É£</button>
                    <button class="pick-btn sm" onclick="selectPick('dice','5',this)">5Ô∏è‚É£</button>
                    <button class="pick-btn sm" onclick="selectPick('dice','6',this)">6Ô∏è‚É£</button>
                </div>
                <input type="number" id="dice-amount" class="bet-input" placeholder="–°—É–º–º–∞" min="10">
                <div class="quick-amounts">
                    <button onclick="setAmt('dice',50)">50</button>
                    <button onclick="setAmt('dice',100)">100</button>
                    <button onclick="setAmt('dice',500)">500</button>
                </div>
                <button class="play-btn" onclick="playGame('dice')">üé∞ –ò–≥—Ä–∞—Ç—å</button>
            </div>
            <div id="dice-result" class="game-result"></div>
        </div>
        <div class="quick-game">
            <div class="game-header">üé° –†—É–ª–µ—Ç–∫–∞</div>
            <div class="game-body">
                <div class="pick-buttons">
                    <button class="pick-btn red" onclick="selectPick('roulette','red',this)">üî¥ x2</button>
                    <button class="pick-btn blk" onclick="selectPick('roulette','black',this)">‚ö´ x2</button>
                    <button class="pick-btn grn" onclick="selectPick('roulette','green',this)">üü¢ x35</button>
                </div>
                <input type="number" id="roulette-amount" class="bet-input" placeholder="–°—É–º–º–∞" min="10">
                <div class="quick-amounts">
                    <button onclick="setAmt('roulette',50)">50</button>
                    <button onclick="setAmt('roulette',100)">100</button>
                    <button onclick="setAmt('roulette',500)">500</button>
                </div>
                <button class="play-btn" onclick="playGame('roulette')">üé∞ –ò–≥—Ä–∞—Ç—å</button>
            </div>
            <div id="roulette-result" class="game-result"></div>
        </div>
    </section>

    <!-- –ú–û–ò –°–¢–ê–í–ö–ò -->
    <section id="tab-mybets" class="tab-content">
        <div id="bets-list"><div class="empty">–°—Ç–∞–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç</div></div>
    </section>

    <!-- –ü–†–û–§–ò–õ–¨ -->
    <section id="tab-profile" class="tab-content">
        <div class="profile-card">
            <div class="avatar">üë§</div>
            <div class="pname" id="pname">–ò–≥—Ä–æ–∫</div>
            <div class="pstats">
                <div class="pst"><div class="pv" id="st-bal">0</div><div class="pl">–ë–∞–ª–∞–Ω—Å</div></div>
                <div class="pst"><div class="pv" id="st-bets">0</div><div class="pl">–°—Ç–∞–≤–æ–∫</div></div>
                <div class="pst"><div class="pv" id="st-wins">0</div><div class="pl">–ü–æ–±–µ–¥</div></div>
            </div>
        </div>
        <div class="stitle">üèÜ –õ–∏–¥–µ—Ä–±–æ—Ä–¥</div>
        <div id="leaderboard"></div>
    </section>

    <!-- –ú–û–î–ê–õ–ö–ê -->
    <div id="bet-modal" class="modal hidden">
        <div class="mbg" onclick="closeModal()"></div>
        <div class="mbox">
            <div class="mtitle">üìù –°—Ç–∞–≤–∫–∞ <span class="mclose" onclick="closeModal()">‚úï</span></div>
            <div id="s-event" class="sline"></div>
            <div id="s-pick" class="sline accent"></div>
            <div id="s-odds" class="sline gold"></div>
            <input type="number" id="bet-amount" class="bet-input" placeholder="–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏" min="10" oninput="calcWin()">
            <div class="quick-amounts">
                <button onclick="sa(50)">50</button>
                <button onclick="sa(100)">100</button>
                <button onclick="sa(250)">250</button>
                <button onclick="sa(500)">500</button>
                <button onclick="sa('max')">MAX</button>
            </div>
            <div class="pot-win">–í—ã–∏–≥—Ä—ã—à: <span id="pot-win">0</span> ü™ô</div>
            <button class="confirm-btn" onclick="confirmBet()">‚úÖ –ü–æ—Å—Ç–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <div id="toast" class="toast hidden"></div>
</div>
<script src="/webapp/app.js"></script>
</body>
</html>
